<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scallop-lang: src/scallop-lang/lex.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">scallop-lang<span id="projectnumber">&#160;0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_68435c6365c86dc2d915bd4cbcef1342.html">scallop-lang</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">lex.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This module provides an API over the classifier finite state machine, generating tokens from multibyte character scripts.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;wchar.h&gt;</code><br />
<code>#include &lt;libadt/lptr.h&gt;</code><br />
<code>#include &quot;<a class="el" href="classifier_8h_source.html">classifier.h</a>&quot;</code><br />
</div>
<p><a href="lex_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a single token.  <a href="structscallop__lang__lex.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__scallop__read__t.html">_scallop_read_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a662e099f43cfefd6785ce52a67810f49" id="r_a662e099f43cfefd6785ce52a67810f49"><td class="memItemLeft" align="right" valign="top"><a id="a662e099f43cfefd6785ce52a67810f49" name="a662e099f43cfefd6785ce52a67810f49"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>_scallop_mbrtowc</b> (wchar_t *result, struct libadt_const_lptr string, mbstate_t *_mbstate)</td></tr>
<tr class="separator:a662e099f43cfefd6785ce52a67810f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae209736ef8412a94eff11662d2b524e9" id="r_ae209736ef8412a94eff11662d2b524e9"><td class="memItemLeft" align="right" valign="top"><a id="ae209736ef8412a94eff11662d2b524e9" name="ae209736ef8412a94eff11662d2b524e9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_scallop_read_error</b> (<a class="el" href="struct__scallop__read__t.html">_scallop_read_t</a> read)</td></tr>
<tr class="separator:ae209736ef8412a94eff11662d2b524e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a944007dd3f4e7ed0283d3761d8f23" id="r_ac8a944007dd3f4e7ed0283d3761d8f23"><td class="memItemLeft" align="right" valign="top"><a id="ac8a944007dd3f4e7ed0283d3761d8f23" name="ac8a944007dd3f4e7ed0283d3761d8f23"></a>
<a class="el" href="struct__scallop__read__t.html">_scallop_read_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_scallop_read</b> (struct libadt_const_lptr script, <a class="el" href="classifier_8h.html#afab7527638d738a8124cdc23a2319136">scallop_lang_classifier_fn</a> *const previous)</td></tr>
<tr class="separator:ac8a944007dd3f4e7ed0283d3761d8f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9dddc88f16e8332bf4fcd4db8952258" id="r_ae9dddc88f16e8332bf4fcd4db8952258"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lex_8h.html#ae9dddc88f16e8332bf4fcd4db8952258">scallop_lang_lex_init</a> (struct libadt_const_lptr script)</td></tr>
<tr class="memdesc:ae9dddc88f16e8332bf4fcd4db8952258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a token object for use in <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a>.  <br /></td></tr>
<tr class="separator:ae9dddc88f16e8332bf4fcd4db8952258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f9d588d4cb122998a2335f987f7e5d" id="r_ae0f9d588d4cb122998a2335f987f7e5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lex_8h.html#ae0f9d588d4cb122998a2335f987f7e5d">scallop_lang_lex_next_raw</a> (struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a> previous)</td></tr>
<tr class="memdesc:ae0f9d588d4cb122998a2335f987f7e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next, raw token in the script referred to by previous.  <br /></td></tr>
<tr class="separator:ae0f9d588d4cb122998a2335f987f7e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547589717d915744052462473f32e7ac" id="r_a547589717d915744052462473f32e7ac"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac">scallop_lang_lex_next</a> (struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a> previous)</td></tr>
<tr class="memdesc:a547589717d915744052462473f32e7ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next token in the script referred to by previous.  <br /></td></tr>
<tr class="separator:a547589717d915744052462473f32e7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844c52587b63a1806bb9b50cacb51de9" id="r_a844c52587b63a1806bb9b50cacb51de9"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="lex_8h.html#a844c52587b63a1806bb9b50cacb51de9">scallop_lang_lex_normalize_word</a> (struct libadt_const_lptr word, struct libadt_lptr out)</td></tr>
<tr class="memdesc:a844c52587b63a1806bb9b50cacb51de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes a word value from <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a> and normalizes it to the raw word value.  <br /></td></tr>
<tr class="separator:a844c52587b63a1806bb9b50cacb51de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module provides an API over the classifier finite state machine, generating tokens from multibyte character scripts. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae9dddc88f16e8332bf4fcd4db8952258" name="ae9dddc88f16e8332bf4fcd4db8952258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9dddc88f16e8332bf4fcd4db8952258">&#9670;&#160;</a></span>scallop_lang_lex_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a> scallop_lang_lex_init </td>
          <td>(</td>
          <td class="paramtype">struct libadt_const_lptr&#160;</td>
          <td class="paramname"><em>script</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a token object for use in <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">script</td><td>The script to create a token from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A token, valid for passing to <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a>. </dd></dl>

</div>
</div>
<a id="a547589717d915744052462473f32e7ac" name="a547589717d915744052462473f32e7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a547589717d915744052462473f32e7ac">&#9670;&#160;</a></span>scallop_lang_lex_next()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a> scallop_lang_lex_next </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a>&#160;</td>
          <td class="paramname"><em>previous</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next token in the script referred to by previous. </p>
<p>Word tokens will always have scallop_lang_classifier_word type, even for words that contain quoted words or escaped characters.</p>
<p>Separators will be grouped into a single token. If the value contains a statement separator, the type is always scallop_lang_classifier_statement_separator, even if it also contains word separators.</p>
<p>If it contains only word separators, the value is scallop_lang_classifier_word_separator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous</td><td>A token previously returned by <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a>, or initialized from <a class="el" href="lex_8h.html#ae9dddc88f16e8332bf4fcd4db8952258" title="Initializes a token object for use in scallop_lang_lex_next().">scallop_lang_lex_init()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A token succeeding scallop_lang_lex_complete() if successful, or failing if an incomplete multibyte character was encountered. </dd></dl>

</div>
</div>
<a id="ae0f9d588d4cb122998a2335f987f7e5d" name="ae0f9d588d4cb122998a2335f987f7e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f9d588d4cb122998a2335f987f7e5d">&#9670;&#160;</a></span>scallop_lang_lex_next_raw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a> scallop_lang_lex_next_raw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structscallop__lang__lex.html">scallop_lang_lex</a>&#160;</td>
          <td class="paramname"><em>previous</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the next, raw token in the script referred to by previous. </p>
<p>Raw tokens contain raw types, such as scallop_lang_classifier_double_quote. Separate tokens are returned for beginning quote, the quoted word, and end quote, as well as any consecutive word tokens without separators.</p>
<p>It is recommended to use <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a>, which will return a single scallop_lang_classifier_word token in that scenario.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous</td><td>A token returned by <a class="el" href="lex_8h.html#ae9dddc88f16e8332bf4fcd4db8952258" title="Initializes a token object for use in scallop_lang_lex_next().">scallop_lang_lex_init()</a> or <a class="el" href="lex_8h.html#ae0f9d588d4cb122998a2335f987f7e5d" title="Returns the next, raw token in the script referred to by previous.">scallop_lang_lex_next_raw()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new token. </dd></dl>

</div>
</div>
<a id="a844c52587b63a1806bb9b50cacb51de9" name="a844c52587b63a1806bb9b50cacb51de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a844c52587b63a1806bb9b50cacb51de9">&#9670;&#160;</a></span>scallop_lang_lex_normalize_word()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t scallop_lang_lex_normalize_word </td>
          <td>(</td>
          <td class="paramtype">struct libadt_const_lptr&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct libadt_lptr&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Takes a word value from <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a> and normalizes it to the raw word value. </p>
<p>The result is written to <code>out</code>. Writing stops when the end of the word is reached, or when <code>out</code> runs out of space.</p>
<p><code>word</code> is not tested for actual word contents. The behaviour for <code>word</code> containing non-word values is undefined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">word</td><td>A value from <a class="el" href="lex_8h.html#a547589717d915744052462473f32e7ac" title="Returns the next token in the script referred to by previous.">scallop_lang_lex_next()</a> that contains a word. </td></tr>
    <tr><td class="paramname">out</td><td>A pointer to the location to write to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If out is large enough for the result, the number of characters actually written. If out is smaller than the result, the number of characters that would have been written. If an error occurred, -1 is returned. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
